@using EHRM.ViewModel.Master
@model RoleViewModel
@{
    ViewData["Title"] = "MsterRoles";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
<link href="~/CustomStyle/style.css" rel="stylesheet" />
<script src="~/CustomScripts/masterroles.js"></script>
<div class="container mt-1">
    <!-- Title -->
    <h3 class="page-heading">Roles Management</h3>
    <!-- Add Role Form -->
    <div class="form-container">
        @if (TempData["ToastType"] != null && TempData["ToastMessage"] != null)
        {
            <script type="text/javascript">
                $(document).ready(function () {
                    // Call the showToast function directly with TempData values
                    showToast('@TempData["ToastType"]', '@TempData["ToastMessage"]');
                });
            </script>
        }

        <div class="card p-4">
            <h4 class="card-title mb-3">Add / Edit Role</h4>
            <form asp-controller="Master" asp-action="SaveRoles" id="roleForm">
                <input type="hidden" id="roleId" name="id" />
                <!-- Exclamation icon button aligned to the top right corner -->
                <button type="button" class="btn btn-link exclamation-btn" data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="top"
                        title="Role Name: E.g., 'Admin'. <br> Role Description: E.g., 'Manages user permissions and system configurations.'"
                        style="position: absolute; top: 10px; right: 10px; z-index: 10;">
                    <i class="bi bi-exclamation-circle" style="font-size: 20px;"></i>
                </button>
                <div class="mb-3">
                
                    <label for="roleName" class="form-label">Role Name</label>
                    <input asp-for="RoleName" class="form-control" id="roleName" placeholder="Enter Role Name" required>
                </div>
                <div class="mb-3">
                    <label for="roleDescription" class="form-label">Role Description</label>
                    <textarea asp-for="RoleDescription" class="form-control" id="roleDescription" rows="3" placeholder="Enter Role Description"></textarea>
                </div>
                <button type="submit" class="btn btn-success">Save</button>
            </form>
        </div>
    </div>

    <!-- Roles Table -->
<div class="container">
    <h4>Role Details</h4>
    <div class="table-responsive">
        <table id="rolesTable" class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th> ID</th>
                    <th>Role Name</th>
                    <th>Description</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <!-- Sample Data (You can dynamically generate this using a backend) -->
                <tr>
                    <td></td>
                </tr>
            
            </tbody>
        </table>
   </div>
</div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var tooltipTriggerList = Array.from(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        tooltipTriggerList.forEach(function (tooltipTriggerEl) {
            new bootstrap.Tooltip(tooltipTriggerEl);
        });

        // Apply custom tooltip styles using JavaScript after page load
        var style = document.createElement('style');
        style.innerHTML = `
            .tooltip-inner {
                background-color: #007bff !important;
                color: white !important;
                border-radius: 5px !important;
            }
            .tooltip-arrow {
                border-top-color: #007bff !important;
            }
        `;
        document.head.appendChild(style);
    });
</script>



